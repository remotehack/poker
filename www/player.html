<html>

<head>
    <title>🃏</title>
    <link rel="stylesheet" href="/style.css">
</head>

<body>
    <h1>🃏 Player!!</h1>

    <label>
        Points (<span id="points">0</span>)
        <input type="range" min="0" max="1000" oninput="points.innerText = this.value" />
    </label>

    <script>
        const WSURL = new URL(document.location)

        WSURL.protocol = WSURL.protocol === 'https:' ? 'wss:' : 'ws:'

        let ws;

        const connect = () => {
            ws = new WebSocket(WSURL)
            ws.addEventListener("close", () => {
                setTimeout(connect, 2000)
            })
        }
        connect();


        function send() {
            ws.send(JSON.stringify({ points: points.innerText }))
        }
    </script>
    <button onclick="send()">Sup</button>

</body>

</html>
